<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WealthEngine - Datewise Index</title>
    <link rel="icon" type="image/png" href="../images/wealth.png">
    <link rel="stylesheet" href="../src/css/style.css">
    <link rel="stylesheet" href="../src/css/date-wise-index.css">
    <!-- Content Security Policy -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://unpkg.com https://cdn.jsdelivr.net; style-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com https://fonts.googleapis.com; font-src 'self' https://cdnjs.cloudflare.com https://fonts.gstatic.com; img-src 'self' data: https:; connect-src 'self' https://nepseapi-ouhd.onrender.com https://turnover-19sr.onrender.com https://script.google.com https://script.googleusercontent.com https://docs.google.com https://sharehubnepal.com;">
</head>

<body>
    <nav class="sidebar">
        <!-- Injected by layout.js -->
    </nav>
    <main>
        <header class="open">
            <!-- Injected by layout.js -->
        </header>
        <div id="content" style="padding: 20px;">
            <div class="filter-section">
                <div class="filter-group">
                    <span class="filter-label">Select History Date (Last 1 Year)</span>
                    <input type="date" id="historyDate" class="date-input">
                </div>
                <button id="searchBtn" class="btn-search">Search Date</button>
            </div>

            <div id="loading-overlay">
                Loading NEPSE data for selected date...
            </div>

            <div class="table-responsive">
                <table id="nepse-table">
                    <thead>
                        <tr>
                            <th>S.N.</th>
                            <th>Trade Date</th>
                            <th class="o">Open</th>
                            <th class="o">High</th>
                            <th class="o">Low</th>
                            <th class="o">Close</th>
                            <th class="o">Pt. Change</th>
                            <th class="o">Change %</th>
                            <th class="o">52W High</th>
                            <th class="o">52W Low</th>
                            <th class="o">Value</th>
                            <th class="o">Volume</th>
                            <th class="o">Txn</th>
                        </tr>
                    </thead>
                    <tbody id="nepse-table-body">
                        <tr>
                            <td colspan="13" style="text-align:center; color:var(--text-muted); padding: 40px;">
                                Please select a date and click Search.
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </main>
    <footer>
        <p>WealthEngine Â© <span id="we-year"></span></p>
    </footer>

    <script src="../src/js/dom-utils.js"></script>
    <script src="../src/js/api-client.js"></script>
    <script src="../src/js/dropdown.js"></script>
    <script src="../src/js/layout.js"></script>
    <script src="../src/js/global.js"></script>
    <script src="../src/js/datewise-index.js"></script>
</body>

</html>